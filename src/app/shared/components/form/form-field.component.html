<ng-container *ngIf="labelDirective; else noLabelRef">
  <ng-content select="label"></ng-content>
</ng-container>
<ng-template #noLabelRef>
  <label
    [danger]="inputDirective?.dangerClass || select?.dangerClass"
    *ngIf="label"
    [for]="id"
    [class.required]="forceRequired || (control | hasValidators: ['required'])"
  >
    {{ label }}
  </label>
</ng-template>
<div
  class="input-wrapper"
  [ngClass]="{
    'has-prefix': !!prefixDirective,
    'has-suffix': !!suffixDirective,
    disabled: control?.disabled,
    'is-select': !!select
  }"
>
  <div class="spinner-wrapper">
    <spinner *ngIf="loading" [size]="0.1"></spinner>
  </div>
  <div class="prefix-wrapper" *ngIf="prefixDirective" (click)="$event.stopPropagation()">
    <ng-content select="[bioPrefix]"></ng-content>
  </div>
  <ng-content></ng-content>
  <div class="suffix-wrapper" *ngIf="suffixDirective" (click)="$event.stopPropagation()">
    <ng-content select="[bioSuffix]"></ng-content>
  </div>
</div>
<div class="bottom-wrapper">
  <div class="hints" *ngIf="!control?.touched || !(control?.hasErrors$ | async)" @fadeIn>
    <ng-content select="hint:not([end]),[hint]:not([end])"></ng-content>
    <div class="hint-spacer"></div>
    <ng-content select="hint[end],[hint][end]"></ng-content>
  </div>
  <ng-content select="errors,[errors]"></ng-content>
</div>
